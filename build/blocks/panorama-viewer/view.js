(()=>{"use strict";const e=window.React;function t({attributes:t,viewer:n,setViewer:r}){const{clientId:i,scene:a,options:o={}}=t,l=(0,e.useRef)();return(0,e.useEffect)((()=>{if(l.current&&window.pannellum){l.current.innerHTML='<div id="controls"></div>';const e=window.pannellum.viewer(l.current,{type:"equirectangular",scenes:[a],...o});window.viewer=e,r(e)}return()=>{n&&n.destroy()}}),[t]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{id:i,ref:l},(0,e.createElement)("div",{id:"controls"})))}const n=window.ReactDOM;function r({attributes:t}){const{clientId:n,style:r,scene:i,additional:a,align:o,options:l}=t,[c,s]=(0,e.useState)();return(0,e.useEffect)((()=>{let e=`#${n} .pnlm-title-box {display: ${i.title?"":"none"};}`;e+=`#${n} .pnlm-author-box {display: ${i.author?"":"none"};}`,e+=`#${n} {height: ${r.height}; width: ${r.width}}`,e+=`#${n} .next_prev{display: ${l?.nextPrevBtn?"flex":"none"};}`,e+=`#${n} {${"right"===o?"margin-left:auto":"center"===o?"margin: auto":""}}`,e+=a?.CSS,s(e)}),[i,r,n,a,o]),(0,e.createElement)("style",null,c)}function i({attributes:n}){const[i,a]=(0,e.useState)(null);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r,{attributes:n}),(0,e.createElement)(t,{attributes:n,viewer:i,setViewer:a}))}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".wp-block-ap360v-panorama-viewer").forEach((t=>{const r=JSON.parse(t.dataset.attributes);t.removeAttribute("data-attributes"),(0,n.createRoot)(t).render((0,e.createElement)(i,{attributes:r}))}))}))})();